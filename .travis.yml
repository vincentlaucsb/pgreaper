language: python
python:
    - "2.7"
    - "3.5"
    - "3.6"
dist: trusty
sudo: required
services:
    - postgresql
addons:
    - postgresql: "9.6"
before_script:
    - psql --version
    - sudo service postgresql stop
    - sudo service postgresql start 9.6
    - pip install cython
    - python setup.py install
    - python setup.py build_ext -i    
    - pip install pytest-cov
    - coverage run --source sqlify -m py.test
    - pip install coveralls
    - pip install sqlalchemy
    - pip install pandas
    - pip install requests
script:
    - coverage run --source sqlify -m py.test
    - coverage report
after_success:
    - coveralls
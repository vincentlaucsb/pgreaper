language: python
python:
    - "3.5"
    - "3.6"
install:
    - sudo pip3 install cython
    - sudo python3 setup.py install
    - sudo python3 setup.py build_ext -i
dist: trusty
sudo: required
services:
    - postgresql
addons:
    - postgresql: "9.6"
before_script:
    - psql --version
    - sudo service postgresql stop
    - sudo service postgresql start 9.6
    - pip3 install coveralls
    - pip3 install pytest-cov
    - pip3 install sqlalchemy
    - pip3 install pandas
    - pip3 install requests
script:
    - cd sqlify
    - cd core
    - ls
    - cd ..
    - cd ..
    - coverage run --source sqlify -m py.test
    - coverage report
after_success:
    - coveralls